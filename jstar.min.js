/*!
 * jstar JavaScript Library v0.0.01a
 * https://github.com/chriswininger/jstar
 *
 * Copyright 2013 Chris Wininger
 * Released under the MIT license
 * https://github.com/chriswininger/jstar/blob/master/license.md
 *
 * Date: Sat Apr 20 2013
 */
(function(a){var b=function(){};b.prototype={constructor:b};b.toTar=function(i,h){var r="",o=0,u=false,s="",v=0,t="";var x,l,k,q,p,n,j,w,e,c,g,m;var d=function(){try{if(o<i.length){u=i[o];x=u.name.padRight("\0",100);l="0000664".padRight("\0",8);k=(1000).toString(8).padLeft("0",7).padRight("\0",8);q=(1000).toString(8).padLeft("0",7).padRight("\0",8);p=(u.data.length).toString(8).padLeft("0",11).padRight("\0",12);n="12123623701".padRight("\0",12);j="        ";w="0";e="".padRight("\0",100);c="ustar  \0";g="chris".padRight("\0",32);m="chris".padRight("\0",32);s=(x+l+k+q+p+n+j+w+e+c+g+m).padRight("\0",512);v=0;for(var z=0,A;z<s.length;z++){A=s.charCodeAt(z);v+=A}j=(v).toString(8).padLeft("0",6)+"\0 ";s=(x+l+k+q+p+n+j+w+e+c+g+m).padRight("\0",512);r+=s+u.data.padRight("\0",(512+Math.floor(u.data.length/512)*512));o++;if(typeof h.progress!=="undefined"){h.progress.call(this,{count:o,total:i.length})}a.setTimeout(d,0)}else{r+="".padRight("\0",1024);var f=new Uint8Array(r.length);for(var B=0;B<r.length;B++){f[B]=r.charCodeAt(B)}var C=Blob([f.buffer],{type:"application/tar"});if(typeof h.success!=="undefined"){h.success.call(this,{status:"success",message:"message",data:C})}if(typeof h.complete!=="undefined"){h.complete.call(this,{status:"success",message:"",data:C})}}}catch(y){if(typeof h.error!=="undefined"){h.error.call(this,{status:"error",message:y.message,data:null})}if(typeof h.complete!=="undefined"){h.complete.call(this,{status:"error",message:y.message,data:null})}}};a.setTimeout(d,0)};a.jsTar=b})(window);(function(a){String.prototype.setAt=function(b,c){return this.substr(0,b)+c+this.substr(b+c.length)};String.prototype.padRight=function(g,d){var b=d-this.length,f="";for(var e=0;e<b;e++){f+=g}return this+f};String.prototype.padLeft=function(g,d){var b=d-this.length,f="";for(var e=0;e<b;e++){f+=g}return f+this}})(window);